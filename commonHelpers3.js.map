{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst inputEmail = feedbackForm.elements.email;\nconst inputMessage = feedbackForm.elements.message;\n\nconst KEY_FORM = \"feedback-form-state\"\n\n// Функція для збереження поточного значення полів у локальне сховище\nfunction saveFormState() {\n    const formData = {\n        email: inputEmail.value,\n        message: inputMessage.value\n    };\n    localStorage.setItem(KEY_FORM, JSON.stringify(formData))\n};\n\n// Прослуховувач подій на форму зворотньго зв'язку для збереження даних\nfeedbackForm.addEventListener('input', throttle(saveFormState, 500));\n\n// Функція для відтворення значення полів у формі зворотнього зв'язку\nfunction restoreFormState() {\n    const savedData = localStorage.getItem(KEY_FORM);\n    if (savedData) {\n        const formData = JSON.parse(savedData);\n        inputEmail.value = formData.email;\n        inputMessage.value = formData.message;\n    };\n};\n\n// Прослуховувач подій на форму зворотньго зв'язку для відправлення данних на сервре\n// та очистки локал сторедж\nfeedbackForm.addEventListener('submit', handlerSubmit);\n\n// Функція обробника подій для сабміту форми\nfunction handlerSubmit(event) {\n    event.preventDefault();\n    \n    const currentEmail = inputEmail.value;\n    const currentMessage = inputMessage.value;\n    \n    if (currentEmail.trim() === '' || currentMessage === '') {\n        alert('Усі поля повинні бути заповнені');\n    } else {\n        const result = {\n            email: currentEmail,\n            message: currentMessage,\n        }\n        console.log(result);\n        feedbackForm.reset();\n        localStorage.removeItem('feedback-form-state')\n    };\n};\n\n// Відновлення значення полів зворотнього зв'язку під час перезавантаження сторінки\nrestoreFormState()\n"],"names":["feedbackForm","inputEmail","inputMessage","KEY_FORM","saveFormState","formData","throttle","restoreFormState","savedData","handlerSubmit","event","currentEmail","currentMessage"],"mappings":"mIAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaD,EAAa,SAAS,MACnCE,EAAeF,EAAa,SAAS,QAErCG,EAAW,sBAGjB,SAASC,GAAgB,CACrB,MAAMC,EAAW,CACb,MAAOJ,EAAW,MAClB,QAASC,EAAa,KAC9B,EACI,aAAa,QAAQC,EAAU,KAAK,UAAUE,CAAQ,CAAC,CAC3D,CAGAL,EAAa,iBAAiB,QAASM,EAASF,EAAe,GAAG,CAAC,EAGnE,SAASG,GAAmB,CACxB,MAAMC,EAAY,aAAa,QAAQL,CAAQ,EAC/C,GAAIK,EAAW,CACX,MAAMH,EAAW,KAAK,MAAMG,CAAS,EACrCP,EAAW,MAAQI,EAAS,MAC5BH,EAAa,MAAQG,EAAS,OACtC,CACA,CAIAL,EAAa,iBAAiB,SAAUS,CAAa,EAGrD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAeV,EAAW,MAC1BW,EAAiBV,EAAa,MAEhCS,EAAa,KAAI,IAAO,IAAMC,IAAmB,GACjD,MAAM,iCAAiC,GAMvC,QAAQ,IAJO,CACX,MAAOD,EACP,QAASC,CACZ,CACiB,EAClBZ,EAAa,MAAK,EAClB,aAAa,WAAW,qBAAqB,EAErD,CAGAO,EAAgB"}